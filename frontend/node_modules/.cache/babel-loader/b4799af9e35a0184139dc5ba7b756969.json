{"ast":null,"code":"var _jsxFileName = \"/home/kali/Downloads/Modus_Mapping/frontend/src/components/GraphView.js\";\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nfunction GraphView({\n  crimes\n}) {\n  const graphRef = useRef();\n  useEffect(() => {\n    if (!crimes.length) return;\n    const svg = d3.select(graphRef.current).append(\"svg\").attr(\"width\", 500).attr(\"height\", 500);\n    const nodes = crimes.map(crime => ({\n      id: crime.id,\n      name: crime.type\n    }));\n    const links = crimes.map(crime => ({\n      source: crime.id,\n      target: crime.id + 1\n    }));\n    const simulation = d3.forceSimulation(nodes).force(\"link\", d3.forceLink(links).id(d => d.id)).force(\"charge\", d3.forceManyBody()).force(\"center\", d3.forceCenter(250, 250));\n    const link = svg.append(\"g\").selectAll(\"line\").data(links).enter().append(\"line\").attr(\"stroke\", \"#999\");\n    const node = svg.append(\"g\").selectAll(\"circle\").data(nodes).enter().append(\"circle\").attr(\"r\", 5).attr(\"fill\", \"#69b3a2\");\n    simulation.on(\"tick\", () => {\n      link.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n      node.attr(\"cx\", d => d.x).attr(\"cy\", d => d.y);\n    });\n  }, [crimes]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: graphRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 12\n    }\n  });\n}\nexport default GraphView;","map":{"version":3,"names":["React","useEffect","useRef","d3","GraphView","crimes","graphRef","length","svg","select","current","append","attr","nodes","map","crime","id","name","type","links","source","target","simulation","forceSimulation","force","forceLink","d","forceManyBody","forceCenter","link","selectAll","data","enter","node","on","x","y","createElement","ref","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/kali/Downloads/Modus_Mapping/frontend/src/components/GraphView.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nfunction GraphView({ crimes }) {\n    const graphRef = useRef();\n\n    useEffect(() => {\n        if (!crimes.length) return;\n\n        const svg = d3.select(graphRef.current)\n            .append(\"svg\")\n            .attr(\"width\", 500)\n            .attr(\"height\", 500);\n\n        const nodes = crimes.map((crime) => ({ id: crime.id, name: crime.type }));\n        const links = crimes.map((crime) => ({ source: crime.id, target: crime.id + 1 }));\n\n        const simulation = d3.forceSimulation(nodes)\n            .force(\"link\", d3.forceLink(links).id((d) => d.id))\n            .force(\"charge\", d3.forceManyBody())\n            .force(\"center\", d3.forceCenter(250, 250));\n\n        const link = svg.append(\"g\")\n            .selectAll(\"line\")\n            .data(links)\n            .enter()\n            .append(\"line\")\n            .attr(\"stroke\", \"#999\");\n\n        const node = svg.append(\"g\")\n            .selectAll(\"circle\")\n            .data(nodes)\n            .enter()\n            .append(\"circle\")\n            .attr(\"r\", 5)\n            .attr(\"fill\", \"#69b3a2\");\n\n        simulation.on(\"tick\", () => {\n            link\n                .attr(\"x1\", (d) => d.source.x)\n                .attr(\"y1\", (d) => d.source.y)\n                .attr(\"x2\", (d) => d.target.x)\n                .attr(\"y2\", (d) => d.target.y);\n\n            node\n                .attr(\"cx\", (d) => d.x)\n                .attr(\"cy\", (d) => d.y);\n        });\n    }, [crimes]);\n\n    return <div ref={graphRef}></div>;\n}\n\nexport default GraphView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}